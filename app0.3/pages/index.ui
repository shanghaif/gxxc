<template>
  <ui-page top="0">
    <ui-view class="grid_box backF2">
        <!-- module 1 -->
        <ui-view class="demo demo3">
            <ui-ex-swiper id="swiperdotsstyle" autoplay="{{ autoplay }}" pagination centered-slides loop space-between="5" slides-per-view="auto">
                <ui-ex-swiper-item ui:for="{{items}}" ui:for-item="item" ui:for-index="index">
                  <ui-image src="{{ item.src }}" mode="simple"></ui-image>
                </ui-ex-swiper-item>
            </ui-ex-swiper>
        </ui-view>
        <!-- module 2 -->
        <ui-view class="module2">
            <ui-view class="price">
              听说邀请好友还有现金，速速围观
            </ui-view>
            <ui-view class="funcFloat box_row">
                <ui-view class="box_row_100">
                  <ui-view class="itemVal">
                      0元
                  </ui-view>
                  <ui-view class="itemTxt">
                      累计奖励
                  </ui-view>
                </ui-view>
                <ui-view class="box_row_100" style="text-align:center">
                  <ui-view class="itemVal">
                      0人
                  </ui-view>
                  <ui-view class="itemTxt">
                      已邀请
                  </ui-view>
                </ui-view>
                <ui-view class="box_row_100" style="text-align:right">
                  <ui-icon type="user" size="36" color="#fff"></ui-icon>
                  </ui-view>
            </ui-view>
        </ui-view>
        <!-- 吸顶容器 -->
        <ui-view class="sticky-in-relative-container">
          <ui-sticky stick-on-tap  custom-style="{{ customStyle }}">
            <ui-view>
              <ui-view class="title">本周精选活动</ui-view>
            </ui-view>
            <ui-view slot="sticky">
              <ui-view class="title">本周精选活动</ui-view>
            </ui-view>
          </ui-sticky>
        </ui-view>
        <ui-view class="content_list">
          <ui-view ui:for="{{ itemlist }}" class="{{{'grey-bg': index % 2 == 0}}}">
            {{ item }}
          </ui-view>
        </ui-view>



    </ui-view>



  </ui-page>
</template>

<script>
export default {
  config: {
    "navigationStyle": 'custom',
  },
  data () {
    return {
      height: ui.DEFAULT_CONTENT_HEIGHT,
      items:[{
        src: 'http://images.uileader.com/20171103/5906a28c-0f12-4b71-8df2-98791d8716f6.jpg',
        title: '放肆玩乐，轻巧办公'
      },
      {
        src: 'http://images.uileader.com/20171103/34795a1c-1365-4256-b9c1-6fb4af1de3da.jpg',
        title: '高温保护，一路驰骋'
      },
      {
        src: 'http://images.uileader.com/20171103/926a6fdc-80f6-4244-8354-860627c88115.jpg',
        title: '七夕好货，独家礼赠'
      }],
      autoplay: {
        delay: 2.5*1000
      },

      itemlist: [],
      offsetTop: ui.DEFAULT_HEADER_HEIGHT,
      imgHeight: parseInt(ui.WIN_WIDTH / 1125 * 628),
      customStyle:{
        'background-color':'#eee',
        'height': '46px',
        'line-height': '46px'
      }
    }
  },
  methods: {
  },
  mounted() {
    for (let i = 1; i <= 100; i++) {
      this.itemlist.push(i + ' - 内容文本')
    }
  }
}

</script>

<style lang="less">
.ui-image-container{
  background-color: #eee;
}

.sticky-in-relative-container {
  position: relative;
  height: 46px;
}
.title{
  text-align: center;
  font-size: 16px;
}



.module2{
  margin: 30rpx 0 20rpx 0;
  background: #fff;
  padding: 15rpx 20rpx;
  .price{
    border-left: #62adfe 10rpx solid;
    padding-left: 20rpx;
  } 
  .funcFloat{
    // height: 130rpx;
    margin-top: 25rpx;
    background: #0a7dda;
    border-radius: 20rpx;
    padding: 25rpx 20rpx;
    .itemVal{
      color: #fff;
      font-size: 35rpx;
      font-weight: 600;
    }
    .itemTxt{
      color: #4aa3f7;
    }
  }
}




.swiper-slide {
    .ui-image {
      width: 100%;
  }
}
#swiperdotsstyle{
  .swiper-pagination-bullet {
    width: 20rpx;
    height: 3rpx;
    background-color: #eee;
    opacity: .5;
    border-radius: 0;

    &.swiper-pagination-bullet-active {
      background-color: #fff;
      opacity: 1;
    }
  }
}
.demo3{
  .swiper-pagination {
    bottom: 30rpx;
  }
  .swiper-lazy-preloader {
      width: 24rpx;
      height: 24rpx;
      margin-left: -12rpx;
      margin-top: -12rpx;
    }
  .swiper-slide {
    position: relative;
    .slide-title {
      color:#fff;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      text-align: center;
      height: 24rpx;
      line-height: 24rpx;
      font-size: 14rpx;
      background-color: rgba(51, 51, 51, .2);
    }
  }
}
</style>
